<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>농취증(농지취득자격증명) 자동화</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #f8f9fa;
        }
        .main-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }
        .logo {
            max-width: 150px;
            height: auto;
            margin-bottom: 1.5rem;
        }
        .card {
            border: none;
            border-radius: 15px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: transform 0.2s;
        }
        .card:hover {
            transform: translateY(-5px);
        }
        .card-header {
            background-color: #198754;
            color: white;
            border-radius: 15px 15px 0 0 !important;
            padding: 1.5rem;
        }
        .btn-primary {
            background-color: #198754;
            border-color: #198754;
        }
        .btn-primary:hover {
            background-color: #157347;
            border-color: #157347;
        }
        .feature-icon {
            font-size: 2rem;
            color: #198754;
            margin-bottom: 1rem;
        }
        .step-number {
            background-color: #198754;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            margin-right: 10px;
        }
        .portal-link {
            color: #198754;
            text-decoration: none;
        }
        .portal-link:hover {
            text-decoration: underline;
        }
        /* 탭 메뉴 스타일 */
        .nav-pills .nav-link.active,
        .nav-pills .show > .nav-link {
            color: #fff;
            background-color: #198754;
        }
        .nav-pills .nav-link {
            border-radius: 10px;
            margin-bottom: 5px;
        }
        .tab-content > .tab-pane {
            padding: 1rem;
            background-color: #fff;
            border-radius: 15px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .tab-pane h2 {
            background-color: #198754;
            color: white;
            padding: 1rem;
            margin-top: -1rem; /* 탭 패널 상단 패딩과 겹치도록 */
            margin-left: -1rem;
            margin-right: -1rem;
            border-top-left-radius: 15px;
            border-top-right-radius: 15px;
            margin-bottom: 1.5rem;
        }
    </style>
</head>
<body>
    <div class="main-container">
        <div class="row align-items-center mb-5">
            <div class="col-md-auto text-center text-md-start">
                <img src="{{ url_for('static', filename='농지톡톡.png') }}" alt="농지톡톡 로고" class="logo mb-md-0">
            </div>
            <div class="col-md">
                <h1 class="display-4 mb-1 mb-md-2 text-center text-md-start">농취증(농지취득자격증명) 자동화</h1>
                <p class="lead text-muted text-center text-md-start">간편하게 농지취득자격증명을 작성하고 관리하세요</p>
            </div>
        </div>

        <div class="row">
            <!-- 왼쪽 탭 메뉴 -->
            <div class="col-md-3">
                <div class="nav flex-column nav-pills me-3" id="v-pills-tab" role="tablist" aria-orientation="vertical">
                    <button class="nav-link active" id="v-pills-overview-tab" data-bs-toggle="pill" data-bs-target="#v-pills-overview" type="button" role="tab" aria-controls="v-pills-overview" aria-selected="true">서비스 개요</button>
                    <button class="nav-link" id="v-pills-howtouse-tab" data-bs-toggle="pill" data-bs-target="#v-pills-howtouse" type="button" role="tab" aria-controls="v-pills-howtouse" aria-selected="false">작성 방법</button>
                    <button class="nav-link" id="v-pills-create-tab" data-bs-toggle="pill" data-bs-target="#v-pills-create" type="button" role="tab" aria-controls="v-pills-create" aria-selected="false">계획서 작성하기</button>
                    <button class="nav-link" id="v-pills-portal-tab" data-bs-toggle="pill" data-bs-target="#v-pills-portal" type="button" role="tab" aria-controls="v-pills-portal" aria-selected="false">발급현황 확인</button>
                    <button class="nav-link" id="v-pills-feedback-tab" data-bs-toggle="pill" data-bs-target="#v-pills-feedback" type="button" role="tab" aria-controls="v-pills-feedback" aria-selected="false">서비스 개선 의견</button>
                </div>
            </div>

            <!-- 오른쪽 내용 -->
            <div class="col-md-9">
                <div class="tab-content" id="v-pills-tabContent">
                    <!-- 서비스 개요 내용 -->
                    <div class="tab-pane fade show active" id="v-pills-overview" role="tabpanel" aria-labelledby="v-pills-overview-tab">
                        <h2 class="mb-4">서비스 구성 개요</h2>
                        <div class="row mb-5">
                            <div class="col-md-4 mb-4">
                                <div class="card h-100">
                                    <div class="card-body text-center">
                                        <div class="feature-icon">📝</div>
                                        <h3>자동화된 작성</h3>
                                        <p class="text-muted">복잡한 계획서 작성 과정을 자동화하여 시간을 절약하세요</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4 mb-4">
                                <div class="card h-100">
                                    <div class="card-body text-center">
                                        <div class="feature-icon">📊</div>
                                        <h3>정확한 계산</h3>
                                        <p class="text-muted">면적, 거리, 비용 등을 자동으로 계산하여 정확성을 높이세요</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4 mb-4">
                                <div class="card h-100">
                                    <div class="card-body text-center">
                                        <div class="feature-icon">📱</div>
                                        <h3>편리한 관리</h3>
                                        <p class="text-muted">작성한 계획서를 PDF나 Word 형식으로 저장하고 관리하세요</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 작성 방법 내용 -->
                    <div class="tab-pane fade" id="v-pills-howtouse" role="tabpanel" aria-labelledby="v-pills-howtouse-tab">
                        <h2 class="mb-4">계획서 작성 방법</h2>
                        <div class="mb-4">
                            <h5><span class="step-number">1</span>계획서 유형 선택</h5>
                            <p class="ms-5">농업경영계획서 또는 주말체험영농계획서 중 필요한 유형을 선택하세요.</p>
                        </div>
                        <div class="mb-4">
                            <h5><span class="step-number">2</span>기본 정보 입력</h5>
                            <p class="ms-5">농지 정보, 취득자 정보, 영농계획 등 필요한 정보를 입력하세요.</p>
                        </div>
                        <div class="mb-4">
                            <h5><span class="step-number">3</span>서명 및 이미지 첨부</h5>
                            <p class="ms-5">서명을 업로드하거나 직접 그려서 첨부하고, 필요한 이미지를 추가하세요.</p>
                        </div>
                        <div>
                            <h5><span class="step-number">4</span>계획서 생성</h5>
                            <p class="ms-5">입력한 정보를 확인하고 계획서를 생성하세요. PDF 또는 Word 형식으로 저장할 수 있습니다.</p>
                        </div>
                    </div>

                    <!-- 계획서 작성하기 내용 (신청자 정보 + 시작 버튼) -->
                    <div class="tab-pane fade" id="v-pills-create" role="tabpanel" aria-labelledby="v-pills-create-tab">
                        <h2 class="mb-4">계획서 작성하기</h2>
                        <!-- 신청자 정보 입력 폼 -->
                        <div class="mb-4">
                            <h5 class="mb-3">신청자 정보</h5>
                            <form id="applicantForm" class="row g-3">
                                <div class="col-md-6">
                                    <label for="my_name" class="form-label">신청자 성명</label>
                                    <input type="text" class="form-control" id="my_name" name="my_name" required>
                                </div>
                                <div class="col-md-6">
                                    <label for="my_address" class="form-label">주소(동까지)</label>
                                    <input type="text" class="form-control" id="my_address" name="my_address" required>
                                </div>
                            </form>
                        </div>

                        <hr>

                        <!-- 계획서 작성 시작하기 -->
                        <div class="text-center mt-4">
                            <h5 class="mb-4">계획서 유형 선택 및 작성</h5>
                            <div class="d-flex justify-content-center gap-3">
                                <a href="/form?type=agriculture" class="btn btn-primary btn-lg" onclick="return validateForm()">농업경영계획서 작성</a>
                                <a href="/form?type=weekend" class="btn btn-primary btn-lg" onclick="return validateForm()">주말체험영농계획서 작성</a>
                            </div>
                            <div class="mt-3 d-flex justify-content-center gap-3">
                                <a href="/sample_viewer?type=agriculture" target="_blank" class="btn btn-outline-secondary">농업경영계획서 샘플 보기</a>
                                <a href="/sample_viewer?type=weekend" target="_blank" class="btn btn-outline-secondary">주말체험영농계획서 샘플 보기</a>
                            </div>
                        </div>
                    </div>

                    <!-- 발급현황 확인 내용 -->
                    <div class="tab-pane fade" id="v-pills-portal" role="tabpanel" aria-labelledby="v-pills-portal-tab">
                        <h2 class="mb-4">농취증 발급현황 확인하기</h2>
                        <p>농지취득자격증명 발급현황을 확인하시려면 농지공간포털을 이용하세요.</p>
                        <a href="https://njy.mafra.go.kr/map/mapMain.do" target="_blank" class="portal-link mb-2 d-block">
                            <i class="fas fa-external-link-alt"></i> 농지공간포털 바로가기
                        </a>
                        <p class="text-muted mb-1">농지공간포털 사용법이 궁금하시면 아래 블로그 글을 참고하세요.</p>
                        <a href="https://blog.naver.com/brightrain85/223437816715" target="_blank" class="portal-link d-block">
                            <i class="fas fa-external-link-alt"></i> 블로그 글 바로가기
                        </a>
                    </div>

                    <!-- 서비스 개선 의견 내용 -->
                    <div class="tab-pane fade" id="v-pills-feedback" role="tabpanel" aria-labelledby="v-pills-feedback-tab">
                        <h2 class="mb-4">서비스 개선 의견 보내기</h2>
                        <div class="text-center">
                            <p class="text-muted">서비스 이용 중 불편한 점이나 개선 의견이 있으시면 알려주세요.</p>
                            <a href="https://forms.gle/wV7P1WSzLGvMsECB8" target="_blank" class="btn btn-outline-success mb-3">피드백 보내기</a>
                            <p class="text-muted">또는 아래 이메일로 의견을 보내주세요.</p>
                            <p class="text-muted"><strong>landtalk2025@gmail.com</strong></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        function validateForm() {
            const name = document.getElementById('my_name').value;
            const address = document.getElementById('my_address').value;
            
            if (!name || !address) {
                alert('신청자 성명과 주소를 모두 입력해주세요.');
                return false;
            }
            
            // URL에 파라미터 추가
            const type = event.target.href.includes('agriculture') ? 'agriculture' : 'weekend';
            const url = `/form?type=${type}&my_name=${encodeURIComponent(name)}&my_address=${encodeURIComponent(address)}`;
            window.location.href = url;
            return false;
        }

        // 페이지 로드 시 URL 해시를 확인하여 활성 탭 설정
        document.addEventListener('DOMContentLoaded', function() {
            const urlHash = window.location.hash;
            if (urlHash) {
                const triggerEl = document.querySelector(`#v-pills-tab button[data-bs-target="${urlHash}"]`);
                if (triggerEl) {
                    new bootstrap.Tab(triggerEl).show();
                }
            }
        });
    </script>
</body>
</html>
